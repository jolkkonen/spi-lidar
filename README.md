# Simulation of ultra-fast structured illumination in single-photon sensitive single-pixel lidar
This repository contains files for the manuscript *Simulation of ultra-fast structured illumination in single-photon sensitive single-pixel lidar* by Jaakko Olkkonen, Josef Taher, Teemu Hakala, Antero Kukko, Harri Kaartinen, and Juha Hyypp√§.

# File descriptions

- **ray_tracing.ipynb**: 
  This notebook simulates light intensity measurements by performing ray tracing for Gaussian beams interacting with Lambertian targets. It models multiple illumination sources and generates the resulting full-waveform intensity data.
- **inverse_rendering.ipynb**: 
  This notebook performs the inverse rendering of simulated light intensity measurements. It begins by defining illumination patterns and adding noise to the data to mimic single-photon sensing. The notebook then uses maximum likelihood estimation to extract individual signals from these noisy measurements. Finally, it reconstructs the properties of each point, including range, angle of incidence, and reflectance, by solving a sequence of nonlinear least squares problems.
- **ray_tracing_data**: 
  This directory contains data generated by the `ray_tracing.ipynb` simulation. The data is stored in a single file using the `pickle` format, which contains a list of dictionaries. Each dictionary holds the simulation results for different illumination sources.
  
  **Note:** Ensure that the data file is present before running the `inverse_rendering.ipynb` notebook.
  
# Dependencies

This project requires the following Python libraries:

- `matplotlib`: For data visualization and plotting.
- `numpy`: For numerical operations and handling arrays.
- `pickle`: For serializing and deserializing Python objects.
- `scipy`: For scientific computing and advanced mathematical functions.
- `pandas`: (only for **inverse_rendering.ipynb**) For data manipulation and analysis.
